{"version":3,"sources":["app/api.cljs"],"mappings":";;AAIA,GAAA,QAAAA,gCAAAC,oCAAAC;AAAA;AAAA,AAAA,AAASC,iBACP,iBAAAC,WAAM,wDAAA,xDAACC;AAAP,AAAA,AAAAD,kCAEI,WAAKE;AAAL,AACE,IAAAC,2BAAa,AAAA,sFAAA,AAAAE,gBAASC;AAAtB,AAAA,oBAAAH;AAAA,AAAA,cAAAA,VAAWC;AAAX,AACE,CAAM,AAAA,AAAIF,+BAAgC,CAAA,sDAAe,AAAA,uFAASE;;AADpE;;AAEAF;;;AALNF;;;AAOF,mBAAA,nBAAMO,8CAAUC;AAAhB,AACE,OAAO,AAAMT,mBAAOS,UAAK,WAAKC;AAAL,AAAW,OAAQA","names":["js/app","js/app.api","js/app.api.client","app.api/client","G__32488","js/module$node_modules$axios$dist$browser$axios_cjs.create","config","temp__5825__auto__","t","cljs.core/deref","app.auth/state","app.api/get-json","url","resp"],"sourcesContent":["(ns app.api\n  (:require [\"axios\" :as axios]\n            [app.auth :as auth]))\n\n(defonce client\n  (doto (axios/create #js {})\n    (.interceptors.request.use\n      (fn [config]\n        (when-let [t (:token @auth/state)]\n          (set! (.. config -headers -Authorization) (str \"Bearer \" (:access t))))\n        config))))\n\n(defn get-json [url]\n  (.then (.get client url) (fn [resp] (.-data resp))))\n"]}