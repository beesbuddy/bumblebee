{"version":3,"sources":["bumblebee/ui/pages/login.cljs"],"mappings":"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","names":["f__32256__auto__","js/goog.DEBUG","temp__5825__auto__","bumblebee.ui.pages.login/page","f__32180__auto__","*current-component*-orig-val__38366","uix.core/*current-component*","*current-component*-temp-val__38367","uix.core/set-display-name","js/window","js/window.uix","js/window.uix.dev","sig__32189__auto__","js/window.uix.dev.signature!","js/window.uix.dev.register!","vec__38354","cljs.core.nth","vec__38357","vec__38360","user","set-user","uix.core/use-state","pass","set-pass","pending?","set-pending","uix.compiler.aot/>el","e","bumblebee.ui.auth/login-async!","_","map__38363","cljs.core/--destructure-map","cljs.core.get","name","params","query","bumblebee.ui.auth/take-redirect!","bumblebee.ui.router.navigate_BANG_","bumblebee.ui.router/navigate!","uix.compiler.aot/create-uix-input","uix.compiler.attributes/keyword->string","p1__38339#","G__38364","p1__38340#","G__38365","uix.compiler.alpha/component-element","bumblebee.ui.components.spinner/spinner"],"sourcesContent":["(ns bumblebee.ui.pages.login\n  (:require [uix.core :refer [$ defui use-state]]\n            [bumblebee.ui.auth :as auth]\n            [bumblebee.ui.router :as router]\n            [bumblebee.ui.components.spinner :as spinner]))\n\n(defui page []\n  (let [[user set-user] (use-state \"\")\n        [pass set-pass] (use-state \"\")\n        [pending? set-pending] (use-state false)]\n    ($ :div {:className \"max-w-md mx-auto space-y-4\"}\n       ($ :h1 {:className \"text-2xl font-bold\"} \"Login\")\n       ($ :form {:className \"space-y-3\"\n                 :onSubmit (fn [e]\n                             (.preventDefault e)\n                             (when-not pending?\n                               (set-pending true)\n                               (-> (auth/login-async!)\n                                   (.then (fn [_]\n                                            (let [{:keys [name params query]} (auth/take-redirect!)]\n                                              (if name\n                                                (router/navigate! name params query)\n                                                (router/navigate! :home)))))\n                                   (.finally (fn [] (set-pending false))))))}\n          ($ :div {:className \"space-y-1\"}\n             ($ :label {:className \"block text-sm\"} \"Username\")\n             ($ :input {:className \"w-full border rounded px-2 py-1\"\n                        :value user\n                        :onChange #(set-user (.. % -target -value))}))\n          ($ :div {:className \"space-y-1\"}\n             ($ :label {:className \"block text-sm\"} \"Password\")\n             ($ :input {:type \"password\"\n                        :className \"w-full border rounded px-2 py-1\"\n                        :value pass\n                        :onChange #(set-pass (.. % -target -value))}))\n          ($ :button {:type \"submit\"\n                      :disabled pending?\n                      :className (str \"px-3 py-1 border rounded \" (when pending? \"opacity-60 cursor-not-allowed\"))}\n             (if pending? \"Signing in\u2026\" \"Sign in\")))\n       (when pending?\n         ($ :div {:className \"pt-2\"} ($ spinner/spinner {:label \"Authorizing\u2026\"}))))))\n"]}